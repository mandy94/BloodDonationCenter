<div fxLayout="column" fxLayoutAlign="space-around center">
    <h2> Pretraga centara za donaciju krvi: </h2>
    <div class="w-80" fxLayoutAlign="space-around center">
        <mat-form-field class="w-50 space">
            <mat-label>Unesite ime centra ili grad koji zelite pretrazite</mat-label>
            <input matInput [(ngModel)]="searchString" (keyup)="applyFilter()">
        </mat-form-field>
        <mat-form-field class="w-20">
            <mat-label>Odaberi rejting</mat-label>
            <mat-select [(ngModel)]="selectedOption"  >
                <mat-option value="6" >Bez filtera</mat-option>
                <mat-option value="1">Ispod 1 ★</mat-option>
                <mat-option value="2">Ispod 2 ★</mat-option>
                <mat-option value="3">Ispod 3 ★</mat-option>
                <mat-option value="4">Ispod 4 ★</mat-option>
                <mat-option value="5">Ispod 5 ★</mat-option>
                
            </mat-select>
        </mat-form-field>
        <button (click)="applyFilter()" class="w-20"> Trazi</button>
    </div>
    <div *ngIf="selectedCenter" class="w-80">
        <mat-card>
            <mat-card-content fxLayout="row" fxLayoutAlign="space-around strech">
                <img mat-card-image src="{{selectedCenter.img}}" alt="Photo of a Shiba Inu">
                <div>
                    <mat-card-subtitle>{{selectedCenter.city}},{{selectedCenter.street}}</mat-card-subtitle>
                    <mat-card-title> {{selectedCenter.name}}</mat-card-title>
                    <h3> Slobodni termini za danas su:</h3>
                </div>
            </mat-card-content>
        </mat-card>
    </div>
    <div class="w-80">
        <table mat-table [dataSource]="donationCenters" class="mat-elevation-z8" *ngIf="donationCenters">

            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> Ime centra </th>
                <td mat-cell *matCellDef="let element"> {{element.name}} </td>
            </ng-container>

            <ng-container matColumnDef="city">
                <th mat-header-cell *matHeaderCellDef> Grad i ulica</th>
                <td mat-cell *matCellDef="let element"> {{element.city}}, {{element.street}} </td>
            </ng-container>

            <ng-container matColumnDef="rating">
                <th mat-header-cell *matHeaderCellDef> Rejting </th>
                <td mat-cell *matCellDef="let element"> <div class="stars">{{ printStars(element.rating) }} </div> </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="showCenterDetails(row)"></tr>
        </table>
    </div>
</div>